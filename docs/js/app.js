addLoadingBarProgress(10),(l=>{let n=70;function c(t,e){e=e||n;var o=decodeURIComponent(t.getAttribute("href")),o=t.href?l(o):l(t);l("html, body").animate({scrollTop:o.offset().top-e},400)}function o(){let n="SingleLine",t="DoubleLine",i=t;function e(){var o=l(".post-list");if(i!==n&&o.width()<800){var a=o.find(".left-side");let t=o.find(".right-side").detach(),e=0;a.each(function(){l(t[e++]).insertAfter(l(this))}),i=n}else i!==t&&800<=o.width()&&(o.find(".right-side").detach().appendTo(".post-list"),i=t)}e(),l(window).load(e),l(window).on("resize",e)}l.fn.followTo=function(e,o){var a=this,n=l(window);n.scroll(function(t){n.scrollTop()>e?a.addClass(o):a.removeClass(o)})},l(function(){if(window.subData){let o=l("header .wrapper");var i=l(".s-comment",o),t=l(".s-toc",o),s=l(".s-top",o);o.find(".nav-sub .logo").text(window.subData.title);let a=l(document).scrollTop(),e=(l(document,window).scroll(function(){var t=l(document).scrollTop(),e=t-a;20<=e&&50<=t?(a=t,o.addClass("sub")):e<=-20&&(a=t,o.removeClass("sub"))}),l("#comments")),n=(e.length?i.click(function(t){t.preventDefault(),t.stopPropagation(),c(e)}):i.remove(),l(".toc-wrapper"));n.length&&n.children().length?t.click(function(t){t.stopPropagation(),n.toggleClass("active")}):t.remove(),s.click(function(){c(document.body)})}{let o=l("header .menu"),a=o.find(".underline");function e(t,e){t=t||o.find("li a.active"),(e=void 0===e||!!e)||a.addClass("disable-trans"),t&&t.length?(t.addClass("active").siblings().removeClass("active"),a.css({left:t.position().left,width:t.innerWidth()})):a.css({left:0,width:0}),e||setTimeout(function(){a.removeClass("disable-trans")},0)}o.on("mouseenter","li",function(t){e(l(t.currentTarget))}),o.on("mouseout",function(){e()});let t=null;"/"===location.pathname||location.pathname.startsWith("/page/")?t=l(".nav-home",o):(i=location.pathname.match(/\/(.*?)\//))&&1<i.length&&(t=l(".nav-"+i[1],o)),e(t,!1)}{let e=l(".l_header .switcher .s-menu");e.click(function(t){t.stopPropagation(),l("body").toggleClass("z_menu-open"),e.toggleClass("active")}),l(document).click(function(t){l("body").removeClass("z_menu-open"),e.removeClass("active")})}{t=l(".l_header .switcher .s-search");let e=l(".l_header"),o=l(".l_header .m_search");0!==t.length&&(t.click(function(t){t.stopPropagation(),e.toggleClass("z_search-open"),o.find("input").focus()}),l(document).click(function(t){e.removeClass("z_search-open")}),o.click(function(t){t.stopPropagation()}))}Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init(),0!==l(".reveal").length&&ScrollReveal({distance:0}).reveal(".reveal");{let a=l(".toc-wrapper");if(0!==a.length){a.click(function(t){t.stopPropagation(),a.addClass("active")}),l(document).click(function(){a.removeClass("active")}),a.on("click","a",function(t){t.preventDefault(),t.stopPropagation(),c("a"===t.target.tagName.toLowerCase()?t.target:t.target.parentElement)});let i=Array.from(a.find("li a")),t=function(){return i.map(function(t){t=decodeURIComponent(t.getAttribute("href"));return Math.floor(l(t).offset().top-n)})},e=void t(),o=function(){var a=t(),n=l("html").scrollTop()||l("body").scrollTop();if(a){let t=0,e=a.length-1,o;for(;t<e;)a[o=t+e+1>>1]===n?t=e=o:a[o]<n?t=o:e=o-1;l(i).removeClass("active").eq(t).addClass("active")}};l(window).resize(function(){e=t(),o()}).scroll(function(){o()}),o()}}{let e=[],a={};l(".pageviews").each(function(){var t=decodeURIComponent(l(this).data("path"));e.push(t),a[t]=l(this).find(".count")}).promise().done(function(){l.post(PAGEVIEWS_API,{host:window.location.host,urls:e}).done(function(t){for(var e in t.pageviews){var o=(t.pageviews[e]||"--").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");("/"===e?l("#totalPageviews .count"):a[e]).html(o)}})})}o(),l(".toc-wrapper").followTo(520,"fixed"),l(".article .video-container").fitVids(),setTimeout(function(){l("#loading-bar-wrapper").fadeOut(500)},300),addLoadingBarProgress(100)})})(jQuery);