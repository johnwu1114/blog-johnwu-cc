"use strict";addLoadingBarProgress(10),function(f){const u=70;function h(t,e){e=e||u;t=t.href?f(t.getAttribute("href")):f(t);f("html, body").animate({scrollTop:t.offset().top-e},400)}function v(){let n="SingleLine",t="DoubleLine",i=t;function e(){var o=f(".post-list");if(i!==n&&o.width()<800){var a=o.find(".left-side");let t=o.find(".right-side").detach(),e=0;a.each(function(){f(t[e++]).insertAfter(f(this))}),i=n}else i!==t&&800<=o.width()&&(o.find(".right-side").detach().appendTo(".post-list"),i=t)}e(),f(window).load(e),f(window).on("resize",e)}f.fn.followTo=function(e,o){var a=this,n=f(window);n.scroll(function(t){n.scrollTop()>e?a.addClass(o):a.removeClass(o)})},f(function(){if(window.subData){const i=f("header .wrapper");var e=f(".s-comment",i),t=f(".s-toc",i),a=f(".s-top",i);i.find(".nav-sub .logo").text(window.subData.title);let o=f(document).scrollTop();f(document,window).scroll(function(){var t=f(document).scrollTop(),e=t-o;20<=e&&50<=t?(o=t,i.addClass("sub")):e<=-20&&(o=t,i.removeClass("sub"))});const s=f("#comments"),l=(s.length?e.click(function(t){t.preventDefault(),t.stopPropagation(),h(s)}):e.remove(),f(".toc-wrapper"));l.length&&l.children().length?t.click(function(t){t.stopPropagation(),l.toggleClass("active")}):t.remove(),a.click(function(){h(document.body)})}{let o=f("header .menu"),a=o.find(".underline");function n(t,e){t=t||o.find("li a.active"),(e=void 0===e||!!e)||a.addClass("disable-trans"),t&&t.length?(t.addClass("active").siblings().removeClass("active"),a.css({left:t.position().left,width:t.innerWidth()})):a.css({left:0,width:0}),e||setTimeout(function(){a.removeClass("disable-trans")},0)}o.on("mouseenter","li",function(t){n(f(t.currentTarget))}),o.on("mouseout",function(){n()});let t=null;"/"===location.pathname||location.pathname.startsWith("/page/")?t=f(".nav-home",o):(e=location.pathname.match(/\/(.*?)\//))&&1<e.length&&(t=f(".nav-"+e[1],o)),n(t,!1)}{let e=f(".l_header .switcher .s-menu");e.click(function(t){t.stopPropagation(),f("body").toggleClass("z_menu-open"),e.toggleClass("active")}),f(document).click(function(t){f("body").removeClass("z_menu-open"),e.removeClass("active")})}{t=f(".l_header .switcher .s-search");let e=f(".l_header"),o=f(".l_header .m_search");0!==t.length&&(t.click(function(t){t.stopPropagation(),e.toggleClass("z_search-open"),o.find("input").focus()}),f(document).click(function(t){e.removeClass("z_search-open")}),o.click(function(t){t.stopPropagation()}))}Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init(),0!==f(".reveal").length&&ScrollReveal({distance:0}).reveal(".reveal");{const o=f(".toc-wrapper");if(0!==o.length){o.click(function(t){t.stopPropagation(),o.addClass("active")}),f(document).click(function(){o.removeClass("active")}),o.on("click","a",function(t){t.preventDefault(),t.stopPropagation(),h("a"===t.target.tagName.toLowerCase()?t.target:t.target.parentElement)});const c=Array.from(o.find("li a")),r=function(){return c.map(function(t){return Math.floor(f(t.getAttribute("href")).offset().top-u)})};r();let t;const d=function(){var a=r(),n=f("html").scrollTop()||f("body").scrollTop();if(a){let t=0,e=a.length-1,o;for(;t<e;)a[o=t+e+1>>1]===n?t=e=o:a[o]<n?t=o:e=o-1;f(c).removeClass("active").eq(t).addClass("active")}};f(window).resize(function(){t=r(),d()}).scroll(function(){d()}),d()}}{let e=[],a={};f(".pageviews").each(function(){var t=f(this).data("path");e.push(t),a[t]=f(this).find(".count")}).promise().done(function(){f.post(PAGEVIEWS_API,{host:window.location.host,urls:e}).done(function(t){for(var e in t.pageviews){var o=(t.pageviews[e]||"--").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");("/"===e?f("#totalPageviews .count"):a[e]).html(o)}})})}v(),f(".toc-wrapper").followTo(520,"fixed"),f(".article .video-container").fitVids(),setTimeout(function(){f("#loading-bar-wrapper").fadeOut(500)},300),addLoadingBarProgress(100)})}(jQuery);